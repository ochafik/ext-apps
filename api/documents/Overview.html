<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Overview | @modelcontextprotocol/ext-apps - v1.0.1</title><meta name="description" content="Documentation for @modelcontextprotocol/ext-apps"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script><link rel="stylesheet" href="../assets/typedoc-github-style.css"/>
<style>
/* Contain mermaid blocks */
.mermaid-block {
  overflow-x: auto;
  max-width: 100%;
}

.mermaid-block > .mermaid {
  max-width: 100%;
}

.mermaid-block svg {
  max-width: 100%;
  height: auto;
}

/* Hide fallback pre when mermaid is enabled */
:root.mermaid-enabled .mermaid-block > pre {
  display: none;
}

/* Hide mermaid divs until JS reveals the correct one (visibility allows rendering) */
.mermaid-block > .mermaid {
  visibility: hidden;
  position: absolute;
}

/* Once JS has applied inline display styles, make visible */
.mermaid-block > .mermaid[style*="display: block"] {
  visibility: visible;
  position: static;
}
</style>

<style>
:root[data-theme="dark"] .mermaid-block .mermaid svg {
  filter: invert(1) hue-rotate(180deg);
}
</style>
</head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">@modelcontextprotocol/ext-apps - v1.0.1</a><div id="tsd-toolbar-links"><a href="https://github.com/modelcontextprotocol/ext-apps">GitHub</a><a href="https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx">Specification</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">Overview</a></li></ul></div><div class="tsd-panel tsd-typography"><h1 id="mcp-apps-overview" class="tsd-anchor-link">MCP Apps Overview<a href="#mcp-apps-overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1>
<p>MCP Apps is an extension to the Model Context Protocol that enables MCP servers to deliver interactive user interfaces to hosts. It defines how servers declare UI resources, how hosts render them securely in iframes, and how the two communicate.</p>
<h2 id="why-mcp-apps" class="tsd-anchor-link">Why MCP Apps?<a href="#why-mcp-apps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>MCP allows servers to expose tools and resources to AI assistants, but responses are limited to text and structured data. Many use cases need more:</p>
<ul>
<li><strong>Data visualization</strong> — Charts, graphs, and dashboards that update as data changes</li>
<li><strong>Rich media</strong> — Video players, audio waveforms, 3D models</li>
<li><strong>Interactive forms</strong> — Multi-step wizards, configuration panels, approval workflows</li>
<li><strong>Real-time displays</strong> — Live logs, progress indicators, streaming content</li>
</ul>
<p>Before MCP Apps, each host implemented UI support differently. MCP-UI, OpenAI's Apps SDK, and custom implementations all solved similar problems with incompatible approaches. Server developers had to maintain separate adapters for each host, and security models varied.</p>
<p>MCP Apps standardizes this. Servers declare their UIs once; any compliant host can render them. Security is consistent — sandboxed iframes, auditable communication, declarative CSP. The result is write-once portability with predictable behavior.</p>
<h2 id="progressive-enhancement" class="tsd-anchor-link">Progressive Enhancement<a href="#progressive-enhancement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>MCP Apps is designed for graceful degradation. Hosts advertise their UI support when connecting to servers; servers check these capabilities before registering UI-enabled tools. If a host doesn't support MCP Apps, tools still work — they just return text instead of UI.</p>
<p>This is fundamental: UI is a progressive enhancement, not a requirement. Your server works everywhere; hosts that support UI get a richer experience.</p>
<p>See the <a href="https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx#clientserver-capability-negotiation">Client&lt;&gt;Server Capability Negotiation</a> section of the specification.</p>
<h2 id="architecture" class="tsd-anchor-link">Architecture<a href="#architecture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>In MCP Apps, three entities work together:</p>
<div class="mermaid-block"><div class="mermaid" style="display: block">%%{init:{"theme":"default"}}%%
flowchart LR
    subgraph Server ["MCP Server"]
        T[Tools]
        R[UI Resources]
    end

    subgraph Host ["Host (Chat Client)"]
        B[AppBridge]
    end

    subgraph View ["View (iframe)"]
        A[App]
    end

    Server <-->|MCP Protocol| Host
    Host <-->|postMessage| View</div><pre><code class="language-mermaid">flowchart LR
    subgraph Server [&quot;MCP Server&quot;]
        T[Tools]
        R[UI Resources]
    end

    subgraph Host [&quot;Host (Chat Client)&quot;]
        B[AppBridge]
    end

    subgraph View [&quot;View (iframe)&quot;]
        A[App]
    end

    Server &lt;--&gt;|MCP Protocol| Host
    Host &lt;--&gt;|postMessage| View</code></pre></div>

<ul>
<li><strong>Server</strong> — A standard MCP server that declares tools and UI resources. The server defines what the UI looks like (HTML) and what tools it exposes.</li>
<li><strong>Host</strong> — The chat client (e.g., Claude Desktop) that connects to servers, embeds Views in iframes, and proxies communication between them.</li>
<li><strong>View</strong> — The UI running inside a sandboxed iframe. It receives tool data from the Host and can call server tools or send messages back to the chat.</li>
</ul>
<p>The View acts as an MCP client, the Host acts as a proxy, and the Server is a standard MCP server.</p>
<h2 id="lifecycle" class="tsd-anchor-link">Lifecycle<a href="#lifecycle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<div class="mermaid-block"><div class="mermaid" style="display: block">%%{init:{"theme":"default"}}%%
sequenceDiagram
    participant H as Host
    participant V as View (iframe)
    participant S as MCP Server

    Note over H,S: 1. Discovery
    S-->>H: tools/list (with UI metadata)

    Note over H,V: 2. Initialization
    H->>H: Render iframe with UI resource
    V->>H: ui/initialize
    H-->>V: host context, capabilities
    V->>H: ui/notifications/initialized

    Note over H,V: 3. Data Delivery
    H-->>V: ui/notifications/tool-input
    H-->>V: ui/notifications/tool-result

    Note over H,V: 4. Interactive Phase
    loop User Interaction
        V->>H: tools/call
        H->>S: tools/call
        S-->>H: result
        H-->>V: result
    end

    Note over H,V: 5. Teardown
    H->>V: ui/resource-teardown
    V-->>H: acknowledgment</div><pre><code class="language-mermaid">sequenceDiagram
    participant H as Host
    participant V as View (iframe)
    participant S as MCP Server

    Note over H,S: 1. Discovery
    S--&gt;&gt;H: tools/list (with UI metadata)

    Note over H,V: 2. Initialization
    H-&gt;&gt;H: Render iframe with UI resource
    V-&gt;&gt;H: ui/initialize
    H--&gt;&gt;V: host context, capabilities
    V-&gt;&gt;H: ui/notifications/initialized

    Note over H,V: 3. Data Delivery
    H--&gt;&gt;V: ui/notifications/tool-input
    H--&gt;&gt;V: ui/notifications/tool-result

    Note over H,V: 4. Interactive Phase
    loop User Interaction
        V-&gt;&gt;H: tools/call
        H-&gt;&gt;S: tools/call
        S--&gt;&gt;H: result
        H--&gt;&gt;V: result
    end

    Note over H,V: 5. Teardown
    H-&gt;&gt;V: ui/resource-teardown
    V--&gt;&gt;H: acknowledgment</code></pre></div>

<ol>
<li><strong>Discovery</strong> — The Host learns about tools and their UI resources when connecting to the server.</li>
<li><strong>Initialization</strong> — When a UI tool is called, the Host renders the iframe. The View sends <code>ui/initialize</code> and receives host context (theme, capabilities, container dimensions). This handshake ensures the View is ready before receiving data.</li>
<li><strong>Data delivery</strong> — The Host sends tool arguments and, once available, tool results to the View. Results include both <code>content</code> (text for the model's context) and optionally <code>structuredContent</code> (data optimized for UI rendering). This separation lets servers provide rich data to the UI without bloating the model's context.</li>
<li><strong>Interactive phase</strong> — The user interacts with the View. The View can call tools, send messages, or update context.</li>
<li><strong>Teardown</strong> — Before unmounting, the Host notifies the View so it can save state or release resources.</li>
</ol>
<p>See the <a href="https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx#lifecycle">Lifecycle</a> section of the specification for the complete sequence diagrams.</p>
<h2 id="ui-resources" class="tsd-anchor-link">UI Resources<a href="#ui-resources" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>UI resources are HTML templates that servers declare using the <code>ui://</code> URI scheme. When a tool with UI metadata is called, the Host fetches the corresponding resource and renders it.</p>
<p>Resources are declared upfront, during tool registration. This design enables:</p>
<ul>
<li><strong>Prefetching</strong> — Hosts can cache templates before tool execution</li>
<li><strong>Separation of concerns</strong> — Templates (presentation) are separate from tool results (data)</li>
<li><strong>Review</strong> — Hosts can inspect UI templates during connection setup</li>
</ul>
<p>See the <a href="https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx#ui-resource-format">UI Resource Format</a> section of the specification for the full schema.</p>
<h2 id="tool-ui-linkage" class="tsd-anchor-link">Tool-UI Linkage<a href="#tool-ui-linkage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Tools reference their UI templates through metadata. When a server registers a tool, it includes a <code>_meta.ui</code> object pointing to a <code>ui://</code> resource:</p>
<pre><code class="json"><span class="hl-2">&quot;_meta&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">  </span><span class="hl-5">&quot;ui&quot;</span><span class="hl-1">: { </span><span class="hl-5">&quot;resourceUri&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;ui://weather/forecast&quot;</span><span class="hl-1"> }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>When this tool is called, the Host:</p>
<ol>
<li>Fetches the UI resource</li>
<li>Renders it in a sandboxed iframe</li>
<li>Passes the tool arguments and results to the View</li>
</ol>
<p>See the <a href="https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx#resource-discovery">Resource Discovery</a> section of the specification for details.</p>
<h2 id="bidirectional-communication" class="tsd-anchor-link">Bidirectional Communication<a href="#bidirectional-communication" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Views communicate with Hosts using JSON-RPC over <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage"><code>postMessage</code></a>. From a View, you can:</p>
<p><strong>Interact with the server:</strong></p>
<ul>
<li>Call server tools (<code>tools/call</code>)</li>
<li>Read server resources (<code>resources/read</code>)</li>
</ul>
<p><strong>Interact with the chat:</strong></p>
<ul>
<li>Send messages to the conversation (<code>ui/message</code>)</li>
<li>Update model context (<code>ui/update-model-context</code>)</li>
</ul>
<p><strong>Request host actions:</strong></p>
<ul>
<li>Open external links (<code>ui/open-link</code>)</li>
</ul>
<p>See the <a href="../classes/app.App.html" class="tsd-kind-class"> app!App</a> class for the View-side API and the <a href="https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx#communication-protocol">Communication Protocol</a> section of the specification.</p>
<h2 id="tool-visibility" class="tsd-anchor-link">Tool Visibility<a href="#tool-visibility" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Tools can be visible to the model, the app, or both. By default, tools are visible to both (<code>visibility: [&quot;model&quot;, &quot;app&quot;]</code>).</p>
<p>App-only tools (<code>visibility: [&quot;app&quot;]</code>) are useful for UI interactions that shouldn't clutter the agent's context — things like refresh buttons, pagination controls, or form submissions. The model never sees these tools; they exist purely for the View to call.</p>
<h2 id="host-context" class="tsd-anchor-link">Host Context<a href="#host-context" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>When a View initializes, the Host provides context about the environment it's running in. This includes:</p>
<ul>
<li><strong>Theme</strong> — Light or dark mode preference</li>
<li><strong>Locale and timezone</strong> — For formatting dates, numbers, and text</li>
<li><strong>Display mode</strong> — Whether the View is inline, fullscreen, or picture-in-picture</li>
<li><strong>Container dimensions</strong> — The available space, which may be fixed by the Host or flexible based on content</li>
<li><strong>Platform</strong> — Web, desktop, or mobile</li>
</ul>
<p>Views use this context to adapt their presentation. For example, a chart might use dark colors when the host is in dark mode, or a form might adjust its layout for mobile platforms.</p>
<p>The Host notifies Views when context changes (e.g., the user toggles dark mode), allowing dynamic updates without reloading.</p>
<p>See the <a href="https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx#host-context-in-mcpuiinitializeresult">Host Context</a> section of the specification for the full schema.</p>
<h2 id="theming" class="tsd-anchor-link">Theming<a href="#theming" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Hosts provide CSS custom properties for colors, typography, and borders. Views use these variables with fallbacks to match the host's visual style:</p>
<pre><code class="css"><span class="hl-6">.container</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">background</span><span class="hl-1">: </span><span class="hl-0">var</span><span class="hl-1">(</span><span class="hl-7">--color-background-primary</span><span class="hl-1">, </span><span class="hl-8">#ffffff</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-7">color</span><span class="hl-1">: </span><span class="hl-0">var</span><span class="hl-1">(</span><span class="hl-7">--color-text-primary</span><span class="hl-1">, </span><span class="hl-8">#000000</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Theme changes (light/dark toggle) are sent via notifications, allowing Views to update dynamically.</p>
<p>See the <a href="https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx#theming">Theming</a> section of the specification for the full list of CSS variables.</p>
<h2 id="display-modes" class="tsd-anchor-link">Display Modes<a href="#display-modes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Views can be displayed in different modes:</p>
<ul>
<li><strong>inline</strong> — Embedded in the chat flow. Best for content that's part of the conversation (charts, previews, forms).</li>
<li><strong>fullscreen</strong> — Takes over the window. Use for immersive experiences like editors, games, or complex dashboards.</li>
<li><strong>pip</strong> — Picture-in-picture overlay. Useful for persistent widgets (music player, timer) that should remain visible while the user continues chatting.</li>
</ul>
<p>Views declare which modes they support; Hosts declare which they can provide. Views can request mode changes, but the Host decides whether to honor them — the Host always has final say over its own UI.</p>
<p>See the <a href="https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx#display-modes">Display Modes</a> section of the specification.</p>
<h2 id="security" class="tsd-anchor-link">Security<a href="#security" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>All Views run in sandboxed iframes with no access to the Host's DOM, cookies, or storage. Communication happens only through <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage"><code>postMessage</code></a>, making it auditable.</p>
<p>Servers declare which external domains their UI needs via <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/CSP">CSP</a> metadata. Hosts enforce these declarations — if no domains are declared, no external connections are allowed. This &quot;restrictive by default&quot; approach prevents data exfiltration to undeclared servers.</p>
<p>See the <a href="https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx#security-implications">Security Implications</a> section of the specification for the threat model and mitigations.</p>
<h2 id="learn-more" class="tsd-anchor-link">Learn More<a href="#learn-more" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<ul>
<li><a href="https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx">Specification</a> — Full protocol specification</li>
<li><a href="Quickstart.html">Quickstart</a> — Build your first MCP App</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#mcp-apps-overview"><span>MCP <wbr/>Apps <wbr/>Overview</span></a><ul><li><a href="#why-mcp-apps"><span>Why <wbr/>MCP <wbr/>Apps?</span></a></li><li><a href="#progressive-enhancement"><span>Progressive <wbr/>Enhancement</span></a></li><li><a href="#architecture"><span>Architecture</span></a></li><li><a href="#lifecycle"><span>Lifecycle</span></a></li><li><a href="#ui-resources"><span>UI <wbr/>Resources</span></a></li><li><a href="#tool-ui-linkage"><span>Tool-<wbr/>UI <wbr/>Linkage</span></a></li><li><a href="#bidirectional-communication"><span>Bidirectional <wbr/>Communication</span></a></li><li><a href="#tool-visibility"><span>Tool <wbr/>Visibility</span></a></li><li><a href="#host-context"><span>Host <wbr/>Context</span></a></li><li><a href="#theming"><span>Theming</span></a></li><li><a href="#display-modes"><span>Display <wbr/>Modes</span></a></li><li><a href="#security"><span>Security</span></a></li><li><a href="#learn-more"><span>Learn <wbr/>More</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/modelcontextprotocol/ext-apps" class="tsd-nav-link">GitHub</a><a href="https://github.com/modelcontextprotocol/ext-apps/blob/main/specification/2026-01-26/apps.mdx" class="tsd-nav-link">Specification</a></nav><nav class="tsd-navigation"><a href="../modules.html">@modelcontextprotocol/ext-apps - v1.0.1</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a> with <a href="https://github.com/JulianWowra/typedoc-github-theme" target="_blank">typedoc-github-theme</a></p></footer><div class="overlay"></div>
<script type="module">
import mermaid from "https://unpkg.com/mermaid@latest/dist/mermaid.esm.min.mjs";

document.documentElement.classList.add("mermaid-enabled");

mermaid.initialize({
  startOnLoad: true,
  flowchart: { useMaxWidth: true },
  sequence: { useMaxWidth: true },
});

// Determine if we're in dark mode
function isDarkMode() {
  // TypeDoc uses data-theme attribute on html element
  const theme = document.documentElement.dataset.theme;
  if (theme === "dark") return true;
  if (theme === "light") return false;
  // Fall back to system preference
  return window.matchMedia("(prefers-color-scheme: dark)").matches;
}

// Update diagram visibility based on current theme
function updateDiagramVisibility() {
  const dark = isDarkMode();
  document.querySelectorAll(".mermaid-block .mermaid.dark").forEach(el => {
    el.style.display = dark ? "block" : "none";
  });
  document.querySelectorAll(".mermaid-block .mermaid.light").forEach(el => {
    el.style.display = dark ? "none" : "block";
  });
}

// Wait for mermaid to render ALL SVGs before setting initial visibility
requestAnimationFrame(function check() {
  const allMermaids = document.querySelectorAll("div.mermaid");
  const rendered = document.querySelectorAll("div.mermaid svg");

  if (rendered.length < allMermaids.length) {
    // Still waiting for mermaid to render
    requestAnimationFrame(check);
  } else {
    // All diagrams rendered, now apply visibility
    updateDiagramVisibility();
  }
});

// Watch for theme changes via attribute mutation
const observer = new MutationObserver((mutations) => {
  for (const mutation of mutations) {
    if (mutation.attributeName === "data-theme") {
      updateDiagramVisibility();
    }
  }
});
observer.observe(document.documentElement, { attributes: true });

// Also watch system preference changes
window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", updateDiagramVisibility);

</script>
</body></html>
